# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° - Sunday School App

## Ğ’ĞµÑ€ÑĞ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°: 1.0
**Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ:** 11 Ğ½Ğ¾ÑĞ±Ñ€Ñ 2025  
**ĞŸÑ€Ğ¾ĞµĞºÑ‚:** Sunday School App (ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ²Ğ¾ÑĞºÑ€ĞµÑĞ½Ğ¾Ğ¹ ÑˆĞºĞ¾Ğ»Ğ¾Ğ¹)  
**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:** Next.js 16, TypeScript, Prisma ORM, Auth.js v5, Zustand, Shadcn UI, BlockNote, PostgreSQL (Supabase)

---

## 1. ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ½Ğ° ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ¼ ÑÑ‚ĞµĞºĞµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Next.js 16 App Router, Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ÑÑ‰ĞµĞ¼ Ğ²Ñ‹ÑĞ¾ĞºÑƒÑ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, SEO-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Developer Experience. ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¾ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑƒÑ‡ĞµĞ±Ğ½Ñ‹Ğ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ¼ Ğ²Ğ¾ÑĞºÑ€ĞµÑĞ½Ğ¾Ğ¹ ÑˆĞºĞ¾Ğ»Ñ‹ Ğ±Ğ°Ğ¿Ñ‚Ğ¸ÑÑ‚ÑĞºĞ¾Ğ¹ Ñ†ĞµÑ€ĞºĞ²Ğ¸.

### 1.1. ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

- **Server-First Architecture** - Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- **Mobile-First Design** - Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°
- **Progressive Enhancement** - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ±ĞµĞ· JavaScript Ñ Ğ¿Ğ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ñ‹Ğ¼ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸ĞµĞ¼
- **Type Safety** - Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ TypeScript, Ğ·Ğ°Ğ¿Ñ€ĞµÑ‚ `any` Ñ‚Ğ¸Ğ¿Ğ¾Ğ²
- **Component-Driven Development** - Ğ°Ñ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- **Performance First** - Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Core Web Vitals
- **Security by Default** - Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ½Ğ° Ğ²ÑĞµÑ… ÑƒÑ€Ğ¾Ğ²Ğ½ÑÑ…
- **Educational Focus** - Ñ„Ğ¾ĞºÑƒÑ Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°Ñ… Ğ¸ Ğ¼Ğ¾Ñ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ¾Ğ²

---

## 2. Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

```mermaid
graph TB
    subgraph "Client Layer"
        Browser[Browser]
        Mobile[Mobile Browser]
    end
    
    subgraph "Next.js Application"
        AppRouter[App Router]
        ServerComponents[Server Components]
        ClientComponents[Client Components]
        ServerActions[Server Actions]
        Proxy[proxy.ts - Middleware]
    end
    
    subgraph "State Management"
        Zustand[Zustand Store - Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾]
    end
    
    subgraph "Authentication & Authorization"
        AuthJS[Auth.js v5]
        JWT[JWT Tokens]
        ProxyAuth[Proxy Authorization]
    end
    
    subgraph "Data Layer"
        Prisma[Prisma ORM]
        PostgreSQL[(PostgreSQL - Supabase)]
        PgBouncer[PgBouncer Connection Pooling]
    end
    
    subgraph "Storage"
        SupabaseStorage[Supabase Storage]
    end
    
    subgraph "Business Logic"
        ServerActionsLogic[Server Actions]
        Validation[Zod Validation]
        BusinessRules[Business Rules]
    end
    
    subgraph "UI Components"
        ShadcnUI[Shadcn UI Components]
        BlockNote[BlockNote Editor]
        CustomComponents[Custom Components]
    end
    
    Browser --> AppRouter
    Mobile --> AppRouter
    AppRouter --> ServerComponents
    AppRouter --> ClientComponents
    ServerComponents --> ServerActions
    ClientComponents --> Zustand
    ClientComponents --> ServerActions
    Proxy --> AuthJS
    Proxy --> ProxyAuth
    ServerActions --> Prisma
    Prisma --> PgBouncer
    PgBouncer --> PostgreSQL
    ServerActions --> SupabaseStorage
    AuthJS --> JWT
    ServerActions --> Validation
    ServerActions --> BusinessRules
    ClientComponents --> ShadcnUI
    ClientComponents --> BlockNote
    ClientComponents --> CustomComponents
```

---

## 3. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
sun_sch/
â”œâ”€â”€ .next/                          # Next.js build output
â”œâ”€â”€ docs/                           # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
â”‚   â”œâ”€â”€ guidelines/                 # Guidelines Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
â”‚   â”‚   â””â”€â”€ react/                  # React guidelines
â”‚   â”œâ”€â”€ prds/                       # Product Requirements Documents
â”‚   â”‚   â”œâ”€â”€ ERD.md                  # Entity Relationship Diagram
â”‚   â”‚   â”œâ”€â”€ USER_FLOW.md            # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ ARCHITECTURE.md         # ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° (ÑÑ‚Ğ¾Ñ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚)
â”‚   â”‚   â”œâ”€â”€ WIREFRAMES.md           # Wireframes ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
â”‚   â”‚   â””â”€â”€ IMPLEMENTATION_PLAN.md  # ĞŸĞ»Ğ°Ğ½ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ technical/                  # Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ PRISMA_SCHEMA.md        # ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ÑÑ…ĞµĞ¼Ñ‹ Prisma
â”‚   â”‚   â”œâ”€â”€ SERVER_ACTIONS_GUIDE.md # Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Server Actions
â”‚   â”‚   â”œâ”€â”€ COMPONENT_STRUCTURE.md  # Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ STATE_MANAGEMENT.md     # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ĞµĞ¼
â”‚   â”‚   â””â”€â”€ MOBILE_FIRST_GUIDE.md   # Mobile-first Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
â”‚   â”œâ”€â”€ user/                       # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ PROJECT_REQUIREMENTS.md     # Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ
â”‚   â””â”€â”€ secure_data.md              # Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ½Ğµ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ñ‚ÑÑ)
â”œâ”€â”€ prisma/                         # Prisma ORM
â”‚   â”œâ”€â”€ migrations/                 # Database migrations
â”‚   â”œâ”€â”€ seed.ts                     # Seed data
â”‚   â””â”€â”€ schema.prisma               # Database schema
â”œâ”€â”€ public/                         # Static assets
â”‚   â”œâ”€â”€ images/                     # Images
â”‚   â”œâ”€â”€ icons/                      # Icons
â”‚   â””â”€â”€ fonts/                      # Custom fonts
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/                 # Auth route group
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Auth layout
â”‚   â”‚   â”‚   â””â”€â”€ login/              # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ (dashboard)/            # Dashboard route group
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Dashboard layout
â”‚   â”‚   â”‚   â”œâ”€â”€ grades/             # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ğ¼Ğ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ my/             # ĞœĞ¾Ğ¸ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [gradeId]/      # Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ academic-years/
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ [yearId]/
â”‚   â”‚   â”‚   â”‚       â”‚       â””â”€â”€ lessons/
â”‚   â”‚   â”‚   â”‚       â”‚           â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ schedule/   # Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ settings/   # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ (Admin only)
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ new-lesson/         # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑƒÑ€Ğ¾ĞºĞ°
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ lessons/            # Ğ£Ñ€Ğ¾ĞºĞ¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [lessonId]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx    # Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ ÑƒÑ€Ğ¾ĞºĞ°
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ edit/
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ homework-check/     # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ”Ğ—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [lessonId]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ pupil-personal-data/ # Ğ›Ğ¸Ñ‡Ğ½Ñ‹Ğµ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ¾Ğ²
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ grade-leaderboard/   # Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [gradeId]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ golden-verses-library/ # Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ° Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ñ‹Ñ… ÑÑ‚Ğ¸Ñ…Ğ¾Ğ²
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ (admin)/                # Admin route group
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Admin layout (Ñ Sidebar Ğ¸ Breadcrumbs)
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx            # Admin dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ grades-list/        # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ğ³Ñ€ÑƒĞ¿Ğ¿
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ teachers-management/ # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ pupils-management/  # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ°Ğ¼Ğ¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ families-management/ # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞµĞ¼ÑŒÑĞ¼Ğ¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ school-process-management/ # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ‡ĞµĞ±Ğ½Ñ‹Ğ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ¼
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ api/                    # API routes (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
â”‚   â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚   â”‚       â””â”€â”€ [...nextauth]/
â”‚   â”‚   â”‚           â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ layout.tsx             # Root layout
â”‚   â”‚   â”œâ”€â”€ globals.css             # Global styles
â”‚   â”‚   â”œâ”€â”€ error.tsx               # Error boundary
â”‚   â”‚   â”œâ”€â”€ not-found.tsx           # 404 page
â”‚   â”‚   â””â”€â”€ loading.tsx             # Loading state
â”‚   â”œâ”€â”€ actions/                    # Server Actions (CRUD)
â”‚   â”‚   â”œâ”€â”€ auth.ts                 # ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ lessons.ts              # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ€Ğ¾ĞºĞ°Ğ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ homework.ts             # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾Ğ¼Ğ°ÑˆĞ½Ğ¸Ñ… Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹
â”‚   â”‚   â”œâ”€â”€ pupils.ts               # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ°Ğ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ teachers.ts             # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ grades.ts               # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ğ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ academic-years.ts       # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒÑ‡ĞµĞ±Ğ½Ñ‹Ğ¼Ğ¸ Ğ³Ğ¾Ğ´Ğ°Ğ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ golden-verses.ts        # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ñ‹Ğ¼Ğ¸ ÑÑ‚Ğ¸Ñ…Ğ°Ğ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ achievements.ts         # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ families.ts             # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞµĞ¼ÑŒÑĞ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ schedule.ts             # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼
â”‚   â”‚   â””â”€â”€ admin.ts                # ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ
â”‚   â”œâ”€â”€ components/                 # React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ ui/                     # Shadcn UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ table.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ breadcrumb.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...                 # Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Shadcn UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ shared/                 # ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer/
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner/
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorMessage/
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ teacher/                # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”‚   â”‚   â”‚   â”œâ”€â”€ LessonForm/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeworkCheckTable/
â”‚   â”‚   â”‚   â”œâ”€â”€ PupilCard/
â”‚   â”‚   â”‚   â”œâ”€â”€ LeaderboardTable/
â”‚   â”‚   â”‚   â”œâ”€â”€ ScheduleCalendar/
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ admin/                  # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸
â”‚   â”‚       â”œâ”€â”€ AdminSidebar/
â”‚   â”‚       â”œâ”€â”€ AdminBreadcrumbs/
â”‚   â”‚       â”œâ”€â”€ TeachersTable/
â”‚   â”‚       â”œâ”€â”€ PupilsTable/
â”‚   â”‚       â”œâ”€â”€ FamiliesTable/
â”‚   â”‚       â”œâ”€â”€ GradeSettingsForm/
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/                      # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ use-mobile.ts           # ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
â”‚   â”‚   â”œâ”€â”€ use-grade.ts            # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ¹
â”‚   â”‚   â”œâ”€â”€ use-lesson.ts           # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ ÑƒÑ€Ğ¾ĞºĞ¾Ğ¼
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ lib/                        # Utility libraries
â”‚   â”‚   â”œâ”€â”€ auth/                   # Auth.js ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.config.ts      # Auth.js configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts             # Auth.js setup
â”‚   â”‚   â”‚   â””â”€â”€ session.ts          # Session utilities
â”‚   â”‚   â”œâ”€â”€ db/                     # Database utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ prisma.ts           # Prisma client (singleton)
â”‚   â”‚   â”‚   â””â”€â”€ queries/            # Database queries
â”‚   â”‚   â”‚       â”œâ”€â”€ lessons.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ pupils.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ grades.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ academic-years.ts
â”‚   â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ validations/            # Zod schemas
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ lesson.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ homework.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ pupil.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ utils/                  # Utility functions
â”‚   â”‚   â”‚   â”œâ”€â”€ format.ts           # Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”‚   â”‚   â”œâ”€â”€ date.ts             # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ´Ğ°Ñ‚Ğ°Ğ¼Ğ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ calculate.ts        # Ğ Ğ°ÑÑ‡ĞµÑ‚Ñ‹ (Ğ±Ğ°Ğ»Ğ»Ñ‹, Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³)
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ storage/                # Storage utilities
â”‚   â”‚       â””â”€â”€ supabase.ts         # Supabase storage client
â”‚   â”œâ”€â”€ store/                      # Zustand stores (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾)
â”‚   â”‚   â”œâ”€â”€ ui-store.ts             # UI ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ (Ğ¼Ğ¾Ğ´Ğ°Ğ»ĞºĞ¸, sidebar)
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ types/                      # TypeScript types
â”‚   â”‚   â”œâ”€â”€ auth.ts                 # Ğ¢Ğ¸Ğ¿Ñ‹ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ database.ts             # Ğ¢Ğ¸Ğ¿Ñ‹ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”‚   â”œâ”€â”€ lesson.ts               # Ğ¢Ğ¸Ğ¿Ñ‹ ÑƒÑ€Ğ¾ĞºĞ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ pupil.ts                # Ğ¢Ğ¸Ğ¿Ñ‹ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ grade.ts                # Ğ¢Ğ¸Ğ¿Ñ‹ Ğ³Ñ€ÑƒĞ¿Ğ¿
â”‚   â”‚   â””â”€â”€ index.ts                # ĞĞ±Ñ‰Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ñ‹
â”‚   â””â”€â”€ proxy.ts                    # Next.js middleware (Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)
â”œâ”€â”€ .env.local                      # Environment variables (Ğ½Ğµ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ñ‚ÑÑ)
â”œâ”€â”€ .env.example                    # Example environment variables
â”œâ”€â”€ .eslintrc.json                  # ESLint configuration
â”œâ”€â”€ .gitignore                      # Git ignore rules
â”œâ”€â”€ next.config.ts                  # Next.js configuration
â”œâ”€â”€ package.json                    # Dependencies
â”œâ”€â”€ postcss.config.mjs              # PostCSS configuration
â”œâ”€â”€ tailwind.config.ts              # Tailwind CSS configuration
â”œâ”€â”€ tsconfig.json                   # TypeScript configuration
â””â”€â”€ README.md                       # Project documentation
```

---

## 4. Ğ¡Ğ»Ğ¾Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

### 4.1. Presentation Layer (Ğ¡Ğ»Ğ¾Ğ¹ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)

**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ UI
- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ³Ğ¾ Ğ²Ğ²Ğ¾Ğ´Ğ°
- ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
- ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½ (Mobile-first)

**ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹:**
- React Server Components (RSC) - Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ
- React Client Components - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸
- Shadcn UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
- BlockNote Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€ (Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑƒÑ€Ğ¾ĞºĞ¾Ğ²)

**ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹:**

```typescript
// Server Component (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ² App Router)
// app/(dashboard)/grades/[gradeId]/page.tsx
import { getGradeById } from '@/lib/db/queries/grades';
import { GradeDetails } from '@/components/teacher/GradeDetails';

export default async function GradePage({ params }: { params: { gradeId: string } }) {
  const grade = await getGradeById(params.gradeId);
  
  if (!grade) {
    notFound();
  }
  
  return (
    <div>
      <h1>{grade.name}</h1>
      <GradeDetails grade={grade} />
    </div>
  );
}
```

```typescript
// Client Component (Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒÑ)
// components/teacher/HomeworkCheckTable.tsx
'use client';

import { useState } from 'react';
import { checkHomework } from '@/actions/homework';
import { Button } from '@/components/ui/button';
import { Table } from '@/components/ui/table';

export function HomeworkCheckTable({ lessonId, pupils }: Props) {
  const [isSubmitting, setIsSubmitting] = useState(false);
  
  const handleSubmit = async (formData: FormData) => {
    setIsSubmitting(true);
    const result = await checkHomework(formData);
    if (result.success) {
      // ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ toast ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ
    }
    setIsSubmitting(false);
  };
  
  return (
    <form action={handleSubmit}>
      <Table>
        {/* Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ Ñ‡ĞµĞºĞ±Ğ¾ĞºÑĞ°Ğ¼Ğ¸ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ”Ğ— */}
      </Table>
      <Button type="submit" disabled={isSubmitting}>
        Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ
      </Button>
    </form>
  );
}
```

**Mobile-First Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´:**
- Ğ’ÑĞµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Tailwind CSS breakpoints: `sm:`, `md:`, `lg:`, `xl:`, `2xl:`
- ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ (Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‚ĞºĞ° Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…)
- Ğ¡Ğ²Ğ¾Ñ€Ğ°Ñ‡Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ÑÑ Sidebar Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸
- Touch-friendly ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ

---

### 4.2. Business Logic Layer (Ğ¡Ğ»Ğ¾Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸)

**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Zod)
- Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°
- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹

**ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹:**
- Server Actions
- Custom Hooks (Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğ¹ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸)
- Validation Schemas (Zod)

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Server Action:**

```typescript
// actions/lessons.ts
'use server';

import { z } from 'zod';
import { prisma } from '@/lib/db/prisma';
import { auth } from '@/lib/auth/auth';
import { lessonSchema } from '@/lib/validations/lesson';

export async function createLesson(formData: FormData) {
  try {
    // 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
    const session = await auth();
    if (!session?.user) {
      return { success: false, error: 'ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ' };
    }
    
    // 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° (Teacher Ğ¸Ğ»Ğ¸ Admin)
    if (session.user.role !== 'TEACHER' && session.user.role !== 'ADMIN') {
      return { success: false, error: 'ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ¿Ñ€Ğ°Ğ²' };
    }
    
    // 3. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    const data = lessonSchema.parse({
      title: formData.get('title'),
      gradeId: formData.get('gradeId'),
      date: formData.get('date'),
      goldenVerseIds: formData.getAll('goldenVerseIds'),
    });
    
    // 4. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑ‡ĞµĞ±Ğ½Ğ¾Ğ³Ğ¾ Ğ³Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
    const activeYear = await prisma.academicYear.findFirst({
      where: {
        gradeId: data.gradeId,
        status: 'ACTIVE',
      },
    });
    
    if (!activeYear) {
      return { 
        success: false, 
        error: 'Ğ”Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ğ½ĞµÑ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑ‡ĞµĞ±Ğ½Ğ¾Ğ³Ğ¾ Ğ³Ğ¾Ğ´Ğ°. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ ÑƒÑ‡ĞµĞ±Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ğ´ Ğ¿ĞµÑ€ĞµĞ´ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸ĞµĞ¼ ÑƒÑ€Ğ¾ĞºĞ°.' 
      };
    }
    
    // 5. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑƒÑ€Ğ¾ĞºĞ°
    const lesson = await prisma.lesson.create({
      data: {
        title: data.title,
        date: new Date(data.date),
        academicYearId: activeYear.id,
        createdById: session.user.id,
        goldenVerses: {
          create: data.goldenVerseIds.map((verseId: string) => ({
            goldenVerseId: verseId,
          })),
        },
      },
      include: {
        goldenVerses: {
          include: {
            goldenVerse: true,
          },
        },
      },
    });
    
    return { success: true, data: lesson };
  } catch (error) {
    console.error('Error creating lesson:', error);
    
    if (error instanceof z.ZodError) {
      return { 
        success: false, 
        error: 'ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
        errors: error.errors,
      };
    }
    
    return { 
      success: false, 
      error: error instanceof Error ? error.message : 'ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑƒÑ€Ğ¾ĞºĞ°' 
    };
  }
}
```

**Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°:**

1. **Ğ£Ñ€Ğ¾ĞºĞ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¼ ÑƒÑ‡ĞµĞ±Ğ½Ğ¾Ğ¼ Ğ³Ğ¾Ğ´Ñƒ:**
   - ĞŸÑ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ ÑƒÑ€Ğ¾ĞºĞ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ğ´ Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
   - Ğ•ÑĞ»Ğ¸ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ³Ğ¾Ğ´Ğ° Ğ½ĞµÑ‚, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑƒÑ€Ğ¾ĞºĞ° Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ÑÑ

2. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾Ğ¼Ğ°ÑˆĞ½Ğ¸Ñ… Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹:**
   - ĞŸÑ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑÑ‚ÑŒ Ğ”Ğ— Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ÑĞ²Ğ¾ĞµĞ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
   - Admin Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑÑ‚ÑŒ Ğ”Ğ— Ğ´Ğ»Ñ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
   - Ğ‘Ğ°Ğ»Ğ»Ñ‹ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑÑÑ‚ÑÑ ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ğ¼ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹

3. **Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹:**
   - Ğ”Ğ¾Ğ¼Ğ¸Ğº Ğ²Ñ‹Ğ´Ğ°ĞµÑ‚ÑÑ, ĞµÑĞ»Ğ¸ Ğ²ÑĞµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ ÑƒÑ€Ğ¾ĞºĞ° Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ñ‹
   - Badges Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑÑÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ĞµĞ²

4. **Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³:**
   - Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ² Ğ·Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ ÑƒÑ‡ĞµĞ±Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ğ´
   - Ğ£Ñ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ

---

### 4.3. Data Access Layer (Ğ¡Ğ»Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼)

**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ñ Ğ‘Ğ” Ñ‡ĞµÑ€ĞµĞ· Prisma ORM
- ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- Connection pooling

**ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹:**
- Prisma ORM
- Database Queries (Ğ² `lib/db/queries/`)
- Caching Strategies (React cache)

#### 4.3.1. Prisma Client

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** Ğ’ÑĞµ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ğº Ğ±Ğ°Ğ·Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€ Prisma Client Ğ¸Ğ· `@/lib/db/prisma`.

**Ğ¤Ğ°Ğ¹Ğ»:** `src/lib/db/prisma.ts`

```typescript
import { PrismaClient } from '@prisma/client';

const globalForPrisma = globalThis as unknown as {
  prisma: PrismaClient | undefined;
};

export const prisma = globalForPrisma.prisma ?? new PrismaClient({
  log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],
});

if (process.env.NODE_ENV !== 'production') {
  globalForPrisma.prisma = prisma;
}
```

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:**

```typescript
// âœ… ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€
import { prisma } from '@/lib/db/prisma';

const lessons = await prisma.lesson.findMany({
  where: { academicYearId: yearId },
});
```

```typescript
// âŒ ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ - Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€Ñ‹
import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient(); // ĞĞ• Ğ”Ğ•Ğ›ĞĞ™Ğ¢Ğ• Ğ¢ĞĞš!
```

#### 4.3.2. Database Queries

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²:**

```typescript
// lib/db/queries/lessons.ts
import { prisma } from '@/lib/db/prisma';
import { cache } from 'react';

// React cache Ğ´Ğ»Ñ Ğ´ĞµĞ´ÑƒĞ¿Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
export const getLessonById = cache(async (lessonId: string) => {
  return await prisma.lesson.findUnique({
    where: { id: lessonId },
    include: {
      academicYear: {
        include: {
          grade: true,
        },
      },
      goldenVerses: {
        include: {
          goldenVerse: true,
        },
      },
      homeworkChecks: {
        include: {
          pupil: {
            select: {
              id: true,
              name: true,
              surname: true,
            },
          },
        },
      },
      createdBy: {
        select: {
          id: true,
          name: true,
          email: true,
        },
      },
    },
  });
});

export async function getLessonsByAcademicYear(academicYearId: string) {
  return await prisma.lesson.findMany({
    where: { academicYearId },
    include: {
      goldenVerses: {
        include: {
          goldenVerse: true,
        },
      },
      homeworkChecks: {
        include: {
          pupil: {
            select: {
              id: true,
              name: true,
            },
          },
        },
      },
    },
    orderBy: {
      date: 'desc',
    },
  });
}

export async function getPupilLeaderboard(gradeId: string, academicYearId: string) {
  // ĞĞ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ² Ğ´Ğ»Ñ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ°
  const pupils = await prisma.pupil.findMany({
    where: { gradeId },
    include: {
      homeworkChecks: {
        where: {
          lesson: {
            academicYearId,
          },
        },
        include: {
          lesson: true,
        },
      },
    },
  });
  
  // Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ² Ğ¸ Ğ´Ğ¾Ğ¼Ğ¸ĞºĞ¾Ğ²
  return pupils.map(pupil => {
    const totalPoints = pupil.homeworkChecks.reduce((sum, check) => {
      return sum + (check.points || 0);
    }, 0);
    
    const houses = pupil.homeworkChecks.filter(check => {
      // Ğ”Ğ¾Ğ¼Ğ¸Ğº Ğ²Ñ‹Ğ´Ğ°ĞµÑ‚ÑÑ, ĞµÑĞ»Ğ¸ Ğ²ÑĞµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ñ‹
      return check.goldenVerseChecked && 
             check.testChecked && 
             check.notebookChecked && 
             check.choirChecked;
    }).length;
    
    return {
      ...pupil,
      totalPoints,
      houses,
    };
  }).sort((a, b) => b.totalPoints - a.totalPoints);
}
```

#### 4.3.3. Connection Pooling

**ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Supabase:**

- `DATABASE_URL` - Ğ´Ğ»Ñ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· PgBouncer (Ğ¿Ğ¾Ñ€Ñ‚ 6543)
- `DIRECT_URL` - Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ Prisma (Ğ¿Ğ¾Ñ€Ñ‚ 5432)

```typescript
// prisma/schema.prisma
datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** 
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ `DATABASE_URL` Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· Prisma Client
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ `DIRECT_URL` Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ (`prisma migrate`)
- ĞĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ñ‡ĞµÑ€ĞµĞ· connection pooling (PgBouncer Ğ² transaction mode)

---

## 5. ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### 5.1. Auth.js v5 Configuration

**Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ:** JWT (Ğ±ĞµĞ· database sessions)

```typescript
// lib/auth/auth.config.ts
import type { NextAuthConfig } from 'next-auth';
import Credentials from 'next-auth/providers/credentials';
import { z } from 'zod';
import bcrypt from 'bcryptjs';
import { prisma } from '@/lib/db/prisma';

const loginSchema = z.object({
  email: z.string().email(),
  password: z.string().min(8),
});

export default {
  providers: [
    Credentials({
      async authorize(credentials) {
        const parsed = loginSchema.safeParse(credentials);
        
        if (!parsed.success) {
          return null;
        }
        
        const { email, password } = parsed.data;
        
        const user = await prisma.user.findUnique({
          where: { email },
        });
        
        if (!user || !user.password) {
          return null;
        }
        
        const isValid = await bcrypt.compare(password, user.password);
        
        if (!isValid) {
          return null;
        }
        
        if (!user.active) {
          throw new Error('ĞĞºĞºĞ°ÑƒĞ½Ñ‚ Ğ´ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½');
        }
        
        return {
          id: user.id,
          name: user.name,
          email: user.email,
          image: user.image,
          role: user.role,
        };
      },
    }),
  ],
  callbacks: {
    async jwt({ token, user }) {
      if (user) {
        token.id = user.id;
        token.role = user.role;
      }
      return token;
    },
    async session({ session, token }) {
      if (token) {
        session.user.id = token.id as string;
        session.user.role = token.role as UserRole;
      }
      return session;
    },
  },
  pages: {
    signIn: '/login',
    error: '/login',
  },
  session: {
    strategy: 'jwt',
    maxAge: 30 * 24 * 60 * 60, // 30 Ğ´Ğ½ĞµĞ¹
  },
} satisfies NextAuthConfig;
```

```typescript
// lib/auth/auth.ts
import NextAuth from 'next-auth';
import { prisma } from '@/lib/db/prisma';
import authConfig from './auth.config';

export const { handlers, auth, signIn, signOut } = NextAuth({
  ...authConfig,
});
```

### 5.2. Middleware (proxy.ts)

**Ğ¤Ğ°Ğ¹Ğ»:** `src/proxy.ts`

```typescript
import { auth } from '@/lib/auth/auth';
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

// Ğ—Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ğ½Ñ‹Ğµ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹
const protectedRoutes = ['/grades', '/lessons', '/homework-check', '/pupil-personal-data', '/grade-leaderboard', '/golden-verses-library'];
const adminRoutes = ['/grades-list', '/teachers-management', '/pupils-management', '/families-management', '/school-process-management'];
const authRoutes = ['/login'];

export default auth((req) => {
  const { nextUrl } = req;
  const isLoggedIn = !!req.auth;
  const userRole = req.auth?.user?.role;
  
  const isProtectedRoute = protectedRoutes.some(route => 
    nextUrl.pathname.startsWith(route)
  );
  const isAdminRoute = adminRoutes.some(route => 
    nextUrl.pathname.startsWith(route)
  );
  const isAuthRoute = authRoutes.some(route => 
    nextUrl.pathname.startsWith(route)
  );
  
  // Redirect to login if accessing protected route without auth
  if (isProtectedRoute && !isLoggedIn) {
    const callbackUrl = encodeURIComponent(nextUrl.pathname + nextUrl.search);
    return NextResponse.redirect(
      new URL(`/login?callbackUrl=${callbackUrl}`, nextUrl)
    );
  }
  
  // Redirect to dashboard if accessing auth routes while logged in
  if (isAuthRoute && isLoggedIn) {
    return NextResponse.redirect(new URL('/grades/my', nextUrl));
  }
  
  // Check admin access
  if (isAdminRoute) {
    if (!isLoggedIn) {
      const callbackUrl = encodeURIComponent(nextUrl.pathname);
      return NextResponse.redirect(
        new URL(`/login?callbackUrl=${callbackUrl}`, nextUrl)
      );
    }
    
    if (userRole !== 'ADMIN' && userRole !== 'SUPERADMIN') {
      return NextResponse.redirect(new URL('/grades/my', nextUrl));
    }
  }
  
  return NextResponse.next();
});

export const config = {
  matcher: ['/((?!api|_next/static|_next/image|favicon.ico).*)'],
};
```

### 5.3. Ğ Ğ¾Ğ»Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

**UserRole enum:**
- `TEACHER` - ĞŸÑ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ (Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ÑĞ²Ğ¾ĞµĞ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğµ)
- `ADMIN` - ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ (Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ ĞºĞ¾ Ğ²ÑĞµĞ¼ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ğ¼ + ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ)
- `SUPERADMIN` - Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ (Ğ²ÑĞµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Admin + ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸)
- `PARENT` - Ğ Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒ (Post-MVP, Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´ĞµÑ‚ĞµĞ¹)
- `PUPIL` - Ğ£Ñ‡ĞµĞ½Ğ¸Ğº (Post-MVP, Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ ÑĞ²Ğ¾Ğ¸Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ñ€Ğ°Ğ² Ğ² Server Actions:**

```typescript
// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°
const session = await auth();
if (!session?.user) {
  return { success: false, error: 'ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ' };
}

// Teacher Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞ¾ ÑĞ²Ğ¾ĞµĞ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¾Ğ¹
if (session.user.role === 'TEACHER') {
  const hasAccess = await prisma.userGrade.findFirst({
    where: {
      userId: session.user.id,
      gradeId: data.gradeId,
    },
  });
  
  if (!hasAccess) {
    return { success: false, error: 'ĞĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº ÑÑ‚Ğ¾Ğ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğµ' };
  }
}

// Admin Ğ¸ Superadmin Ğ¸Ğ¼ĞµÑÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ ĞºĞ¾ Ğ²ÑĞµĞ¼ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ğ¼
```

---

## 6. State Management (Zustand)

**ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿:** ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Zustand, Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğ³Ğ¾ UI ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ.

### 6.1. UI Store

```typescript
// store/ui-store.ts
import { create } from 'zustand';

interface UIState {
  sidebarOpen: boolean;
  setSidebarOpen: (open: boolean) => void;
  toggleSidebar: () => void;
  
  modals: Record<string, boolean>;
  openModal: (modalId: string) => void;
  closeModal: (modalId: string) => void;
}

export const useUIStore = create<UIState>((set) => ({
  sidebarOpen: false,
  setSidebarOpen: (open) => set({ sidebarOpen: open }),
  toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),
  
  modals: {},
  openModal: (modalId) =>
    set((state) => ({
      modals: { ...state.modals, [modalId]: true },
    })),
  closeModal: (modalId) =>
    set((state) => ({
      modals: { ...state.modals, [modalId]: false },
    })),
}));
```

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Zustand:**
- Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ UI (Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚/Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ sidebar, Ğ¼Ğ¾Ğ´Ğ°Ğ»ĞºĞ¸)
- Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñ„Ğ¾Ñ€Ğ¼Ñ‹ (Ğ´Ğ¾ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸)
- ĞšĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¸ ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°

**ĞšĞ¾Ğ³Ğ´Ğ° ĞĞ• Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Zustand:**
- Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ° (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Server Components)
- Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¼ÑƒÑ‚Ğ°Ñ†Ğ¸Ğ¹ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Server Actions + revalidation)
- Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Server Components)

---

## 7. Mobile-First Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´

### 7.1. ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

1. **Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²**
   - ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµĞ¼ Ñ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞºÑ€Ğ°Ğ½Ğ° (375px)
   - ĞŸĞ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… ÑĞºÑ€Ğ°Ğ½Ğ¾Ğ²

2. **Responsive Breakpoints (Tailwind CSS):**
   ```css
   sm:  640px  /* Small tablets */
   md:  768px  /* Tablets */
   lg:  1024px /* Laptops */
   xl:  1280px /* Desktops */
  2xl:  1536px /* Large desktops */
   ```

3. **Touch-Friendly ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹:**
   - ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº: 44x44px
   - Ğ”Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿Ñ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
   - Swipe Ğ¶ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

### 7.2. ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹:**

```typescript
// components/teacher/HomeworkCheckTable.tsx
'use client';

export function HomeworkCheckTable({ pupils, lessonId }: Props) {
  return (
    <div className="overflow-x-auto">
      {/* Desktop Ğ²ĞµÑ€ÑĞ¸Ñ */}
      <div className="hidden md:block">
        <Table>
          {/* ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ°Ğ¼Ğ¸ */}
        </Table>
      </div>
      
      {/* Mobile Ğ²ĞµÑ€ÑĞ¸Ñ */}
      <div className="md:hidden space-y-4">
        {pupils.map((pupil) => (
          <Card key={pupil.id}>
            <CardHeader>
              <CardTitle>{pupil.name} {pupil.surname}</CardTitle>
            </CardHeader>
            <CardContent>
              {/* ĞšĞ¾Ğ¼Ğ¿Ğ°ĞºÑ‚Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… */}
            </CardContent>
          </Card>
        ))}
      </div>
    </div>
  );
}
```

### 7.3. ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Sidebar

```typescript
// components/admin/AdminSidebar.tsx
'use client';

import { useUIStore } from '@/store/ui-store';
import { Sheet, SheetContent } from '@/components/ui/sheet';

export function AdminSidebar() {
  const { sidebarOpen, setSidebarOpen } = useUIStore();
  
  return (
    <>
      {/* Desktop: Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ Sidebar */}
      <aside className="hidden lg:block w-64 border-r">
        <SidebarContent />
      </aside>
      
      {/* Mobile: Sheet (drawer) */}
      <Sheet open={sidebarOpen} onOpenChange={setSidebarOpen}>
        <SheetContent side="left" className="w-64 p-0">
          <SidebarContent />
        </SheetContent>
      </Sheet>
    </>
  );
}
```

---

## 8. ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ (Layout Ñ Sidebar Ğ¸ Breadcrumbs)

### 8.1. Admin Layout

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**

```typescript
// app/(admin)/layout.tsx
import { AdminSidebar } from '@/components/admin/AdminSidebar';
import { AdminBreadcrumbs } from '@/components/admin/AdminBreadcrumbs';

export default function AdminLayout({ children }: { children: React.ReactNode }) {
  return (
    <div className="flex min-h-screen">
      <AdminSidebar />
      <main className="flex-1 p-4 lg:p-6">
        <AdminBreadcrumbs />
        {children}
      </main>
    </div>
  );
}
```

### 8.2. Sidebar (Shadcn UI)

```typescript
// components/admin/AdminSidebar.tsx
'use client';

import { Sidebar, SidebarContent, SidebarMenu, SidebarMenuItem, SidebarMenuButton } from '@/components/ui/sidebar';
import { LayoutDashboard, Users, GraduationCap, Home, Settings } from 'lucide-react';
import Link from 'next/link';

const menuItems = [
  {
    title: 'Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ',
    url: '/grades-list',
    icon: LayoutDashboard,
  },
  {
    title: 'ĞŸÑ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸',
    url: '/teachers-management',
    icon: Users,
  },
  {
    title: 'Ğ£Ñ‡ĞµĞ½Ğ¸ĞºĞ¸',
    url: '/pupils-management',
    icon: GraduationCap,
  },
  {
    title: 'Ğ¡ĞµĞ¼ÑŒĞ¸',
    url: '/families-management',
    icon: Home,
  },
  {
    title: 'Ğ£Ñ‡ĞµĞ±Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ',
    url: '/school-process-management',
    icon: Settings,
  },
];

export function AdminSidebar() {
  return (
    <Sidebar>
      <SidebarContent>
        <SidebarMenu>
          {menuItems.map((item) => (
            <SidebarMenuItem key={item.url}>
              <SidebarMenuButton asChild>
                <Link href={item.url}>
                  <item.icon className="mr-2 h-4 w-4" />
                  {item.title}
                </Link>
              </SidebarMenuButton>
            </SidebarMenuItem>
          ))}
        </SidebarMenu>
      </SidebarContent>
    </Sidebar>
  );
}
```

### 8.3. Breadcrumbs

```typescript
// components/admin/AdminBreadcrumbs.tsx
'use client';

import { usePathname } from 'next/navigation';
import { Breadcrumb, BreadcrumbList, BreadcrumbItem, BreadcrumbLink, BreadcrumbSeparator } from '@/components/ui/breadcrumb';

const routeLabels: Record<string, string> = {
  'grades-list': 'Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ',
  'teachers-management': 'ĞŸÑ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸',
  'pupils-management': 'Ğ£Ñ‡ĞµĞ½Ğ¸ĞºĞ¸',
  'families-management': 'Ğ¡ĞµĞ¼ÑŒĞ¸',
  'school-process-management': 'Ğ£Ñ‡ĞµĞ±Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ',
};

export function AdminBreadcrumbs() {
  const pathname = usePathname();
  const segments = pathname.split('/').filter(Boolean);
  
  return (
    <Breadcrumb>
      <BreadcrumbList>
        {segments.map((segment, index) => {
          const isLast = index === segments.length - 1;
          const href = '/' + segments.slice(0, index + 1).join('/');
          const label = routeLabels[segment] || segment;
          
          return (
            <BreadcrumbItem key={segment}>
              {isLast ? (
                <span>{label}</span>
              ) : (
                <BreadcrumbLink href={href}>{label}</BreadcrumbLink>
              )}
              {!isLast && <BreadcrumbSeparator />}
            </BreadcrumbItem>
          );
        })}
      </BreadcrumbList>
    </Breadcrumb>
  );
}
```

---

## 9. ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### 9.1. Next.js Caching Strategies

**Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ revalidation:**

```typescript
// app/(dashboard)/golden-verses-library/page.tsx
export const revalidate = 3600; // 1 Ñ‡Ğ°Ñ

export default async function GoldenVersesLibraryPage() {
  const verses = await prisma.goldenVerse.findMany({
    orderBy: { createdAt: 'desc' },
  });
  
  return <GoldenVersesList verses={verses} />;
}
```

**Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³ Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼:**

```typescript
// lib/db/queries/golden-verses.ts
import { cache } from 'react';
import { prisma } from '@/lib/db/prisma';

export const getAllGoldenVerses = cache(async () => {
  return await prisma.goldenVerse.findMany({
    orderBy: { text: 'asc' },
  });
});
```

**ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:**

```typescript
// app/(dashboard)/lessons/[lessonId]/page.tsx
export const dynamic = 'force-dynamic';

export default async function LessonPage({ params }: { params: { lessonId: string } }) {
  const lesson = await getLessonById(params.lessonId);
  // ...
}
```

### 9.2. React Cache

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ React cache Ğ´Ğ»Ñ Ğ´ĞµĞ´ÑƒĞ¿Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²:**

```typescript
import { cache } from 'react';
import { prisma } from '@/lib/db/prisma';

export const getGradeById = cache(async (gradeId: string) => {
  return await prisma.grade.findUnique({
    where: { id: gradeId },
    include: {
      pupils: true,
      academicYears: true,
    },
  });
});
```

### 9.3. Image Optimization

```typescript
// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ next/image Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
import Image from 'next/image';

export function PupilAvatar({ src, alt }: Props) {
  return (
    <Image
      src={src}
      alt={alt}
      width={64}
      height={64}
      className="rounded-full"
      loading="lazy"
    />
  );
}
```

---

## 10. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

### 10.1. Error Boundaries

```typescript
// app/error.tsx
'use client';

import { useEffect } from 'react';
import { Button } from '@/components/ui/button';

export default function Error({
  error,
  reset,
}: {
  error: Error & { digest?: string };
  reset: () => void;
}) {
  useEffect(() => {
    console.error('Application error:', error);
  }, [error]);
  
  return (
    <div className="flex min-h-screen items-center justify-center">
      <div className="text-center">
        <h2 className="text-2xl font-bold mb-4">Ğ§Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ¿Ğ¾ÑˆĞ»Ğ¾ Ğ½Ğµ Ñ‚Ğ°Ğº!</h2>
        <p className="text-gray-600 mb-6">
          ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹.
        </p>
        <Button onClick={reset}>ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ½Ğ¾Ğ²Ğ°</Button>
      </div>
    </div>
  );
}
```

### 10.2. Global Error Handler

```typescript
// app/global-error.tsx
'use client';

export default function GlobalError({
  error,
  reset,
}: {
  error: Error & { digest?: string };
  reset: () => void;
}) {
  return (
    <html>
      <body>
        <h2>ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°!</h2>
        <button onClick={reset}>ĞŸĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ</button>
      </body>
    </html>
  );
}
```

### 10.3. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ² Server Actions

```typescript
// actions/lessons.ts
export async function createLesson(formData: FormData) {
  try {
    // ... Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑƒÑ€Ğ¾ĞºĞ°
  } catch (error) {
    console.error('Error creating lesson:', error);
    
    // Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½ÑƒÑ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ
    return {
      success: false,
      error: error instanceof Error ? error.message : 'ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑƒÑ€Ğ¾ĞºĞ°',
    };
  }
}
```

---

## 11. Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### 11.1. CSRF Protection

Next.js Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ·Ğ°Ñ‰Ğ¸Ñ‰Ğ°ĞµÑ‚ Ğ¾Ñ‚ CSRF Ğ°Ñ‚Ğ°Ğº Ğ´Ğ»Ñ Server Actions. Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°:

```typescript
// lib/security/csrf.ts
import { headers } from 'next/headers';

export async function validateCSRF() {
  const headersList = headers();
  const origin = headersList.get('origin');
  const host = headersList.get('host');
  
  if (origin && new URL(origin).host !== host) {
    throw new Error('CSRF validation failed');
  }
}
```

### 11.2. Rate Limiting

```typescript
// lib/security/rate-limit.ts
import { Ratelimit } from '@upstash/ratelimit';
import { Redis } from '@upstash/redis';

const redis = new Redis({
  url: process.env.UPSTASH_REDIS_REST_URL!,
  token: process.env.UPSTASH_REDIS_REST_TOKEN!,
});

export const ratelimit = new Ratelimit({
  redis,
  limiter: Ratelimit.slidingWindow(10, '10 s'),
  analytics: true,
});

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Server Action
export async function createLesson(formData: FormData) {
  'use server';
  
  const ip = headers().get('x-forwarded-for') ?? 'anonymous';
  const { success } = await ratelimit.limit(ip);
  
  if (!success) {
    throw new Error('Ğ¡Ğ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ². ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ.');
  }
  
  // ... Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
}
```

### 11.3. Input Sanitization

**Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Zod:**

```typescript
// lib/validations/lesson.ts
import { z } from 'zod';

export const lessonSchema = z.object({
  title: z.string().min(1, 'ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑƒÑ€Ğ¾ĞºĞ° Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾').max(200),
  gradeId: z.string().cuid('ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ ID Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹'),
  date: z.string().datetime('ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ°Ñ‚Ñ‹'),
  goldenVerseIds: z.array(z.string().cuid()).min(1, 'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ¸Ğ½ Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ğ¾Ğ¹ ÑÑ‚Ğ¸Ñ…'),
});
```

**Ğ¡Ğ°Ğ½Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ HTML (Ğ´Ğ»Ñ BlockNote):**

```typescript
// lib/security/sanitize.ts
import DOMPurify from 'isomorphic-dompurify';

export function sanitizeHtml(html: string): string {
  return DOMPurify.sanitize(html, {
    ALLOWED_TAGS: ['p', 'br', 'strong', 'em', 'u', 'h1', 'h2', 'h3', 'ul', 'ol', 'li'],
    ALLOWED_ATTR: [],
  });
}
```

### 11.4. SQL Injection Prevention

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Prisma ORM Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ SQL Ğ¸Ğ½ÑŠĞµĞºÑ†Ğ¸Ğ¸:**

```typescript
// âœ… Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ - Prisma ÑĞºÑ€Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
const lesson = await prisma.lesson.findUnique({
  where: { id: lessonId },
});

// âŒ ĞĞ• Ğ”Ğ•Ğ›ĞĞ™Ğ¢Ğ• Ğ¢ĞĞš - Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
// const result = await prisma.$queryRaw`SELECT * FROM Lesson WHERE id = ${lessonId}`;
```

---

## 12. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### 12.1. Error Tracking

```typescript
// lib/monitoring/sentry.ts
import * as Sentry from '@sentry/nextjs';

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 1.0,
});

export function captureError(error: Error, context?: Record<string, any>) {
  Sentry.captureException(error, {
    extra: context,
  });
}
```

### 12.2. Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```typescript
// lib/utils/logger.ts
export function logError(error: Error, context?: Record<string, any>) {
  console.error('Error:', error.message, context);
  
  // Ğ’ production Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ² Sentry
  if (process.env.NODE_ENV === 'production') {
    captureError(error, context);
  }
}

export function logInfo(message: string, data?: any) {
  if (process.env.NODE_ENV === 'development') {
    console.log(message, data);
  }
}
```

### 12.3. Analytics (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

```typescript
// lib/analytics/gtag.ts
export const GA_TRACKING_ID = process.env.NEXT_PUBLIC_GA_ID;

export function pageview(url: string) {
  if (typeof window !== 'undefined' && window.gtag) {
    window.gtag('config', GA_TRACKING_ID!, {
      page_path: url,
    });
  }
}
```

---

## 13. ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### 13.1. Horizontal Scaling

- **Vercel**: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- **Load Balancing**: Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
- **CDN**: Cloudflare Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²

### 13.2. Database Scaling

- **Connection Pooling**: PgBouncer (Supabase)
- **Read Replicas**: Ğ”Ğ»Ñ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
- **Caching**: Redis Ğ´Ğ»Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

### 13.3. Performance Optimization

- **Code Splitting**: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ‡ĞµÑ€ĞµĞ· Next.js
- **Image Optimization**: next/image Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
- **Lazy Loading**: Ğ”Ğ»Ñ Ñ‚ÑĞ¶ĞµĞ»Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- **React Compiler**: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### 13.4. Monitoring

- **Vercel Analytics**: ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
- **Sentry**: ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- **Uptime Monitoring**: Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ ÑĞµÑ€Ğ²Ğ¸ÑĞ°

---

## 14. Deployment (Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ)

### 14.1. Environment Variables

> ğŸ“ **Ğ’Ğ°Ğ¶Ğ½Ğ¾:** Ğ’ÑĞµ credentials Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ² [`docs/secure_data.md`](../../secure_data.md).  
> Ğ¤Ğ°Ğ¹Ğ» `.env.local` ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¸ Ğ½Ğµ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ñ‚ÑÑ Ğ² Git.

```bash
# .env.example

# ============================================
# DATABASE (Supabase PostgreSQL)
# ============================================

# Connect to Supabase via connection pooling (Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)
DATABASE_URL="postgresql://postgres.PROJECT_REF:[YOUR-PASSWORD]@aws-1-eu-west-1.pooler.supabase.com:6543/postgres?pgbouncer=true&statement_cache_size=0"

# Direct connection to the database (Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ Prisma)
DIRECT_URL="postgresql://postgres.PROJECT_REF:[YOUR-PASSWORD]@aws-1-eu-west-1.pooler.supabase.com:5432/postgres"

# ============================================
# AUTH (Auth.js v5)
# ============================================

# Ğ¡ĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ Ğ´Ğ»Ñ JWT
# Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ: openssl rand -base64 32
AUTH_SECRET="your-auth-secret-key-here"

# URL Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
NEXTAUTH_URL="http://localhost:3000"

# ============================================
# SUPABASE STORAGE (Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹)
# ============================================

NEXT_PUBLIC_SUPABASE_URL="https://PROJECT_REF.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"

SUPABASE_STORAGE_BUCKET_NAME="sunschoolb"
SUPABASE_STORAGE_ENDPOINT="https://PROJECT_REF.storage.supabase.co/storage/v1/s3"
SUPABASE_STORAGE_REGION="eu-west-1"
SUPABASE_STORAGE_ACCESS_KEY_ID="your-access-key"
SUPABASE_STORAGE_SECRET_ACCESS_KEY="your-secret-key"

# ============================================
# NODE ENVIRONMENT
# ============================================

NODE_ENV="development"
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:**
- `DATABASE_URL` Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· Prisma Client (connection pooling)
- `DIRECT_URL` Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ Prisma (`prisma migrate`)
- Supabase Storage Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ S3-ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ñ‹Ğ¹ API Ğ´Ğ»Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
- Ğ’ÑĞµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ credentials Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ² `docs/secure_data.md` (Ğ½Ğµ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ñ‚ÑÑ Ğ² Git)

### 14.2. Build Configuration

```typescript
// next.config.ts
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
  experimental: {
    reactCompiler: true,
  },
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: '**.supabase.co',
      },
    ],
  },
  async redirects() {
    return [
      {
        source: '/grades/my',
        destination: '/grades',
        permanent: false,
      },
    ];
  },
};

export default nextConfig;
```

### 14.3. Deployment Ğ½Ğ° Vercel

**Ğ¨Ğ°Ğ³Ğ¸:**

1. ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹ Ğº Vercel
2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Environment Variables Ğ² Vercel Dashboard
3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Build Command: `npm run build`
4. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Output Directory: `.next`
5. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸: `npx prisma migrate deploy`
6. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ seed (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾): `npx prisma db seed`

**Post-deployment:**

- ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ (Sentry, Analytics)
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ´Ğ¾Ğ¼ĞµĞ½ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

---

## 15. Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

Ğ”Ğ°Ğ½Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚:

- âœ… Ğ’Ñ‹ÑĞ¾ĞºÑƒÑ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ (Server Components, ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)
- âœ… ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ (Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, connection pooling)
- âœ… Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ (CSRF protection, input validation, SQL injection prevention)
- âœ… ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ DX (Developer Experience) - TypeScript, Server Actions, React Compiler
- âœ… ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ñƒ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ (Ñ‡ĞµÑ‚ĞºĞ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°, Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ)
- âœ… Mobile-first Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ (Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½, touch-friendly)
- âœ… SEO-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (Server Components, Ğ¼ĞµÑ‚Ğ°-Ñ‚ĞµĞ³Ğ¸)

**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸:**

1. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ (ÑĞ¼. `docs/SETUP_GUIDE.md`)
2. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Prisma migrations)
3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² (Shadcn UI)
4. Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ (Auth.js v5)
5. Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ° (ÑĞ¼. `docs/prds/IMPLEMENTATION_PLAN.md`)

---

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 11 Ğ½Ğ¾ÑĞ±Ñ€Ñ 2025  
**ĞĞ²Ñ‚Ğ¾Ñ€:** AI Senior Software Architect & Documentation Engineer

