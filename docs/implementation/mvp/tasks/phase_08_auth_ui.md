# Phase 08: Создание системы аутентификации UI

## Описание фазы
Создание UI для аутентификации: страница входа, middleware для защиты маршрутов, обработка сессий, редиректы.

## Зависимости
Phase 05: Настройка аутентификации (Cognito), Phase 07: Создание базовых layout компонентов

## Оценка времени
4-5 часов

## Требования к AI Agent

<requirements>
<role>
Ты — Senior Full-Stack Developer с 5+ летним опытом разработки систем аутентификации, специализирующийся на:
- AWS Amplify Gen 1 и Cognito User Pools
- Next.js 15.5.9 Server Actions и Middleware
- React 19 и современные паттерны React
- Безопасность и защита маршрутов
- JWT токены и сессии
</role>

<context>
Проект: Sunday School Management System (MVP)
Технологии: AWS Amplify Gen 1, AWS Cognito, Next.js 15.5.9, React 19, Server Actions
Ограничения: MVP подход, безопасность критически важна, совместимость Next.js с AWS Amplify
Документация: SECURITY.md и AWS_AMPLIFY.md должны быть изучены перед началом работы
</context>

<critical_instructions>
Вдохни глубоко, расправь плечи и приступай к решению задачи шаг за шагом. Это критически важная фаза для создания системы аутентификации UI. Правильная настройка аутентификации определит безопасность всего приложения.

<CRITICAL>Перед началом работы:</CRITICAL>
1. Изучи SECURITY.md - все требования к безопасности и аутентификации
2. Изучи AWS_AMPLIFY.md - интеграция Amplify с Next.js
3. Используй Context7 для получения актуальной документации AWS Amplify Gen 1
4. Используй Context7 для получения актуальной документации Next.js 15.5.9
5. <CRITICAL>Проверь совместимость Next.js с AWS Amplify - это высокоприоритетное требование!</CRITICAL>
6. Следуй принципам из `docs/guidelines/prompts/general_prompt_guidelines.md`

<CONSTRAINT>⚠️ КРИТИЧНО: Использовать AWS Amplify Gen 1, НЕ Gen 2! Middleware должен работать быстро и не блокировать рендеринг. Ошибки аутентификации должны быть понятны пользователю!</CONSTRAINT>
</critical_instructions>
</requirements>

## Задачи

### Task 08.01: Установка AWS Amplify библиотек

<context>
<CRITICAL>Это первая и критически важная задача фазы!</CRITICAL> Установка AWS Amplify библиотек необходима для работы аутентификации. <CRITICAL>КРИТИЧНО: Использовать AWS Amplify Gen 1, НЕ Gen 2!</CRITICAL>
</context>

<task>
Установи aws-amplify библиотеку и проверь совместимость версии с Next.js 15.5.9 и AWS Amplify Gen 1. Убедись, что используется правильная версия для Gen 1.
</task>

<constraints>
- aws-amplify должен быть установлен
- Версия должна быть совместима с Next.js 15.5.9
- Версия должна быть совместима с Amplify Gen 1 (НЕ Gen 2!)
- Проверь совместимость перед установкой
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи AWS_AMPLIFY.md раздел Frontend Integration для понимания требований
2. Изучи ARCHITECTURE.md раздел Authentication для понимания требований
3. Используй Context7 для получения актуальной документации AWS Amplify Gen 1
4. Проверь совместимость версий перед установкой
5. Только после этого устанавливай библиотеку
</thinking>

**Действия:**
- [ ] Установить aws-amplify: `npm install aws-amplify`
- [ ] Проверить совместимость версии с Next.js 15.5.9
- [ ] Проверить совместимость с AWS Amplify Gen 1 (не Gen 2!)

**Документация:**
- <CRITICAL>[AWS_AMPLIFY.md](../../../infrastructure/AWS_AMPLIFY.md) - раздел Frontend Integration</CRITICAL>
- [ARCHITECTURE.md](../../../architecture/ARCHITECTURE.md) - раздел Authentication
- <CRITICAL>AWS Amplify Auth документация (через Context7)</CRITICAL>

**Критерии приемки:**
- aws-amplify установлен
- Версия совместима с Next.js 15.5.9
- Версия совместима с Amplify Gen 1

<output_format>
После выполнения задачи aws-amplify должен быть установлен, версия должна быть совместима с Next.js 15.5.9, и версия должна быть совместима с Amplify Gen 1.
</output_format>

---

### Task 08.02: Настройка Amplify конфигурации

<context>
Настройка Amplify конфигурации критически важна для правильной работы аутентификации. Конфигурация должна загружаться из amplifyconfiguration.json и настраиваться при инициализации приложения.
</context>

<task>
Настрой Amplify конфигурацию. Создай файл `lib/amplify/config.ts`, импортируй конфигурацию из `amplifyconfiguration.json`, настрой Amplify.configure() и создай утилиту для получения конфигурации.
</task>

<constraints>
- Конфигурация Amplify должна быть настроена
- Конфигурация должна загружаться из amplifyconfiguration.json
- Amplify.configure() должен вызываться при инициализации
- Утилита для получения конфигурации должна быть создана
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи AWS_AMPLIFY.md раздел Configuration Files для понимания структуры
2. Изучи ARCHITECTURE.md раздел Configuration для понимания требований
3. Используй Context7 для получения актуальной документации AWS Amplify Configuration
4. Определи структуру конфигурации
5. Только после этого настраивай конфигурацию
</thinking>

**Действия:**
- [ ] Создать файл `lib/amplify/config.ts`
- [ ] Импортировать конфигурацию из `amplifyconfiguration.json`
- [ ] Настроить Amplify.configure() с конфигурацией
- [ ] Создать утилиту для получения конфигурации
- [ ] Убедиться, что конфигурация загружается корректно

**Документация:**
- <CRITICAL>[AWS_AMPLIFY.md](../../../infrastructure/AWS_AMPLIFY.md) - раздел Configuration Files</CRITICAL>
- [ARCHITECTURE.md](../../../architecture/ARCHITECTURE.md) - раздел Configuration
- AWS Amplify Configuration документация (через Context7)

**Критерии приемки:**
- Конфигурация Amplify настроена
- Конфигурация загружается из amplifyconfiguration.json
- Amplify.configure() вызывается при инициализации

<output_format>
После выполнения задачи конфигурация Amplify должна быть настроена, конфигурация должна загружаться из amplifyconfiguration.json, и Amplify.configure() должен вызываться при инициализации.
</output_format>

---

### Task 08.03: Создание страницы входа

<context>
<CRITICAL>Это критически важная задача!</CRITICAL> Создание страницы входа критически важно для аутентификации пользователей. Страница должна быть удобной, безопасной и интегрированной с AWS Cognito.
</context>

<task>
Создай страницу входа согласно wireframe из WIREFRAMES.md. Создай Client Component формы входа с полями Email и Password, валидацией через Zod, обработкой ошибок и интеграцией с AWS Amplify Auth.
</task>

<constraints>
- Страница входа должна быть создана в `app/(auth)/auth/page.tsx`
- Форма должна быть Client Component (из-за интерактивности)
- Валидация должна работать через Zod
- Обработка ошибок должна быть реализована
- Интеграция с AWS Amplify Auth должна работать
- Используй компоненты Shadcn UI (Form, Input, Button)
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи WIREFRAMES.md раздел Auth Page детально
2. Изучи USER_FLOW.md раздел Authentication Flow для понимания процесса
3. Изучи VALIDATION.md раздел Auth Schemas для понимания валидации
4. Используй Context7 для получения актуальной документации AWS Amplify Auth signIn
5. Только после этого создавай страницу
</thinking>

**Действия:**
- [ ] Изучить wireframe страницы входа из [WIREFRAMES.md](../../../ui_ux/WIREFRAMES.md)
- [ ] Создать `app/(auth)/auth/page.tsx`
- [ ] Создать Client Component формы входа с:
  - Полями Email и Password
  - Валидацией через Zod
  - Обработкой ошибок
  - Кнопкой входа
  - Loading state
- [ ] Использовать компоненты Shadcn UI (Form, Input, Button)
- [ ] Интегрировать с AWS Amplify Auth (signIn)

**Документация:**
- <CRITICAL>[WIREFRAMES.md](../../../ui_ux/WIREFRAMES.md) - раздел Auth Page</CRITICAL>
- [USER_FLOW.md](../../../user_flows/USER_FLOW.md) - раздел Authentication Flow
- <CRITICAL>[VALIDATION.md](../../../api/VALIDATION.md) - раздел Auth Schemas</CRITICAL>
- AWS Amplify Auth signIn документация (через Context7)

**Критерии приемки:**
- Страница входа создана
- Форма работает корректно
- Валидация работает
- Вход через Cognito функционирует

<output_format>
После выполнения задачи страница входа должна быть создана, форма должна работать корректно, валидация должна работать, и вход через Cognito должен функционировать.
</output_format>

---

### Task 08.04: Создание Server Actions для аутентификации

<context>
<CRITICAL>Это критически важная задача для безопасности!</CRITICAL> Создание Server Actions для аутентификации критически важно для безопасной обработки аутентификации на сервере. Server Actions обеспечивают безопасность и правильную обработку ошибок.
</context>

<task>
Создай Server Actions для аутентификации в `app/actions/auth.ts`. Реализуй signIn, signOut и getCurrentUser Server Actions с валидацией через Zod и правильной обработкой ошибок.
</task>

<constraints>
- Server Actions должны быть созданы в `app/actions/auth.ts`
- Server Actions должны иметь директиву `'use server'`
- Валидация должна работать через Zod
- Обработка ошибок должна быть реализована
- Server Actions должны возвращать правильные результаты
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи SERVER_ACTIONS.md для понимания паттернов Server Actions
2. Изучи VALIDATION.md для понимания валидации
3. Используй Context7 для получения актуальной документации AWS Amplify Auth Server Actions
4. Определи структуру Server Actions
5. Только после этого создавай Server Actions
</thinking>

**Действия:**
- [ ] Создать `app/actions/auth.ts`
- [ ] Реализовать Server Action `signIn`:
  - Принимает email и password
  - Валидирует через Zod
  - Вызывает Amplify Auth signIn
  - Возвращает результат или ошибку
- [ ] Реализовать Server Action `signOut`:
  - Вызывает Amplify Auth signOut
  - Очищает сессию
- [ ] Реализовать Server Action `getCurrentUser`:
  - Получает текущего пользователя из Cognito
  - Возвращает информацию о пользователе и роли

**Документация:**
- [SERVER_ACTIONS.md](../../../api/SERVER_ACTIONS.md) - раздел Auth Actions
- [VALIDATION.md](../../../api/VALIDATION.md) - раздел Auth Schemas
- AWS Amplify Auth Server Actions документация (через Context7)

**Критерии приемки:**
- Server Actions созданы
- signIn работает корректно
- signOut работает корректно
- getCurrentUser возвращает правильную информацию

<output_format>
После выполнения задачи Server Actions должны быть созданы, signIn должен работать корректно, signOut должен работать корректно, и getCurrentUser должен возвращать правильную информацию.
</output_format>

---

### Task 08.05: Создание middleware для защиты маршрутов

<context>
<CRITICAL>Это критически важная задача для безопасности!</CRITICAL> Создание middleware для защиты маршрутов критически важно для обеспечения безопасности приложения. Middleware должен работать быстро и не блокировать рендеринг.
</context>

<task>
Создай middleware для защиты маршрутов. Реализуй проверку JWT токена из cookies, редирект неавторизованных пользователей, проверку роли для админских страниц и редирект Teacher с админских страниц.
</task>

<constraints>
- Middleware должен быть создан в `middleware.ts` в корне проекта
- Middleware должен работать быстро и не блокировать рендеринг
- Защита маршрутов должна работать
- Редиректы должны работать корректно
- Проверка ролей должна функционировать
- Используй Next.js middleware API
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи ARCHITECTURE.md раздел 3.3 Middleware для понимания требований
2. Изучи SECURITY.md раздел Route Protection для понимания безопасности
3. Изучи USER_FLOW.md раздел Authentication Flow для понимания процесса
4. Используй Context7 для получения актуальной документации Next.js Middleware
5. Только после этого создавай middleware
</thinking>

**Действия:**
- [ ] Создать `middleware.ts` в корне проекта
- [ ] Реализовать проверку JWT токена из cookies
- [ ] Реализовать редирект неавторизованных пользователей на `/auth`
- [ ] Реализовать проверку роли для админских страниц
- [ ] Реализовать редирект Teacher с админских страниц на `/grades/my`
- [ ] Использовать Next.js middleware API

**Документация:**
- <CRITICAL>[ARCHITECTURE.md](../../../architecture/ARCHITECTURE.md) - раздел 3.3 Middleware</CRITICAL>
- <CRITICAL>[SECURITY.md](../../../infrastructure/SECURITY.md) - раздел Route Protection</CRITICAL>
- [USER_FLOW.md](../../../user_flows/USER_FLOW.md) - раздел Authentication Flow
- Next.js Middleware документация (через Context7)

**Критерии приемки:**
- Middleware создан
- Защита маршрутов работает
- Редиректы работают корректно
- Проверка ролей функционирует

<output_format>
После выполнения задачи middleware должен быть создан, защита маршрутов должна работать, редиректы должны работать корректно, и проверка ролей должна функционировать.
</output_format>

---

### Task 08.06: Создание утилит для работы с сессией

<context>
Создание утилит для работы с сессией критически важно для получения информации о пользователе и его роли. Утилиты должны работать корректно с Cognito и возвращать правильную информацию.
</context>

<task>
Создай утилиты для работы с сессией в `lib/utils/auth.ts`. Реализуй функции getSession(), getUserRole() и isAuthenticated() для работы с Cognito сессией и ролями пользователя.
</task>

<constraints>
- Утилиты должны быть созданы в `lib/utils/auth.ts`
- getSession должна работать корректно
- getUserRole должна возвращать правильную роль (TEACHER, ADMIN, SUPERADMIN)
- isAuthenticated должна работать корректно
- Функции должны работать с Cognito
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи SECURITY.md раздел Authentication для понимания требований
2. Изучи ARCHITECTURE.md раздел Auth Utilities для понимания структуры
3. Используй Context7 для получения актуальной документации AWS Amplify Auth Session
4. Определи структуру функций
5. Только после этого создавай утилиты
</thinking>

**Действия:**
- [ ] Создать `lib/utils/auth.ts`
- [ ] Реализовать функцию `getSession()`:
  - Получает текущую сессию из Cognito
  - Возвращает информацию о пользователе
- [ ] Реализовать функцию `getUserRole()`:
  - Получает роль пользователя из Cognito групп
  - Возвращает роль (TEACHER, ADMIN, SUPERADMIN)
- [ ] Реализовать функцию `isAuthenticated()`:
  - Проверяет, авторизован ли пользователь
  - Возвращает boolean

**Документация:**
- [SECURITY.md](../../../infrastructure/SECURITY.md) - раздел Authentication
- [ARCHITECTURE.md](../../../architecture/ARCHITECTURE.md) - раздел Auth Utilities
- AWS Amplify Auth Session документация (через Context7)

**Критерии приемки:**
- Утилиты созданы
- getSession работает корректно
- getUserRole возвращает правильную роль
- isAuthenticated работает

<output_format>
После выполнения задачи утилиты должны быть созданы, getSession должна работать корректно, getUserRole должна возвращать правильную роль, и isAuthenticated должна работать.
</output_format>

---

### Task 08.07: Интеграция аутентификации с layout

<context>
Интеграция аутентификации с layout критически важна для отображения информации о пользователе и обеспечения правильной навигации. Header и Sidebar должны работать с аутентификацией.
</context>

<task>
Интегрируй аутентификацию с layout компонентами. Обнови Header для отображения информации о пользователе и добавь кнопку выхода. Обнови Sidebar для скрытия пунктов меню для неавторизованных пользователей.
</task>

<constraints>
- Header должен отображать информацию о пользователе
- Кнопка выхода должна работать
- Sidebar должен скрывать пункты для неавторизованных пользователей
- Layout должен работать с аутентификацией
- Интеграция должна быть корректной
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи COMPONENT_LIBRARY.md раздел Navigation для понимания структуры
2. Изучи WIREFRAMES.md раздел Header для понимания требований
3. Используй утилиты из Task 08.06 для получения информации о пользователе
4. Только после этого интегрируй аутентификацию
</thinking>

**Действия:**
- [ ] Обновить Header компонент для отображения информации о пользователе
- [ ] Добавить кнопку выхода в Header
- [ ] Реализовать обработку выхода
- [ ] Обновить Sidebar для скрытия пунктов меню для неавторизованных пользователей
- [ ] Убедиться, что layout работает с аутентификацией

**Документация:**
- [COMPONENT_LIBRARY.md](../../../components/COMPONENT_LIBRARY.md) - раздел Navigation
- [WIREFRAMES.md](../../../ui_ux/WIREFRAMES.md) - раздел Header

**Критерии приемки:**
- Header отображает информацию о пользователе
- Кнопка выхода работает
- Sidebar скрывает пункты для неавторизованных
- Layout интегрирован с аутентификацией

<output_format>
После выполнения задачи Header должен отображать информацию о пользователе, кнопка выхода должна работать, Sidebar должен скрывать пункты для неавторизованных, и layout должен быть интегрирован с аутентификацией.
</output_format>

---

### Task 08.08: Обработка ошибок аутентификации

<context>
<CRITICAL>Это критически важная задача для UX!</CRITICAL> Обработка ошибок аутентификации критически важна для обеспечения понятных сообщений пользователю. Ошибки должны быть обработаны корректно и отображены понятным образом.
</context>

<task>
Реализуй обработку ошибок аутентификации. Обработай все типы ошибок Cognito (неверный email/password, пользователь не подтвержден, пользователь заблокирован и др.), отображай понятные сообщения пользователю через Toast уведомления и логируй ошибки для отладки.
</task>

<constraints>
- Ошибки должны обрабатываться корректно
- Сообщения должны быть понятны пользователю
- Toast уведомления должны работать
- Ошибки должны логироваться для отладки
- Все типы ошибок Cognito должны быть обработаны
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи ERROR_HANDLING.md раздел Ошибки аутентификации для понимания требований
2. Изучи USER_FLOW.md раздел Error Handling для понимания процесса
3. Изучи DESIGN_SYSTEM.md раздел Error States для понимания UI
4. Используй Context7 для получения актуальной документации AWS Cognito Error Codes
5. Только после этого реализуй обработку ошибок
</thinking>

**Действия:**
- [ ] Реализовать обработку ошибок входа:
  - Неверный email/password
  - Пользователь не подтвержден
  - Пользователь заблокирован
  - Другие ошибки Cognito
- [ ] Отображать понятные сообщения об ошибках пользователю
- [ ] Использовать Toast уведомления для ошибок
- [ ] Логировать ошибки для отладки

**Документация:**
- [ERROR_HANDLING.md](../../../user_flows/ERROR_HANDLING.md) - раздел Ошибки аутентификации
- [USER_FLOW.md](../../../user_flows/USER_FLOW.md) - раздел Error Handling
- [DESIGN_SYSTEM.md](../../../ui_ux/DESIGN_SYSTEM.md) - раздел Error States
- AWS Cognito Error Codes документация (через Context7)

**Критерии приемки:**
- Ошибки обрабатываются корректно
- Сообщения понятны пользователю
- Toast уведомления работают
- Ошибки логируются

<output_format>
После выполнения задачи ошибки должны обрабатываться корректно, сообщения должны быть понятны пользователю, Toast уведомления должны работать, и ошибки должны логироваться.
</output_format>

---

### Task 08.09: Тестирование аутентификации

<context>
Тестирование аутентификации необходимо для подтверждения правильности работы всех функций аутентификации. Это важный шаг перед переходом к следующей фазе.
</context>

<task>
Протестируй все функции аутентификации. Проверь вход с правильными и неверными учетными данными, защиту маршрутов, проверку ролей, выход и сохранение сессии.
</task>

<constraints>
- Все тесты должны быть пройдены успешно
- Аутентификация должна работать корректно
- Защита маршрутов должна работать
- Проверка ролей должна функционировать
- Сессия должна сохраняться между перезагрузками
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Подготовь тестовые сценарии для всех функций аутентификации
2. Подготовь тестовые данные для разных ролей
3. Только после этого тестируй аутентификацию
</thinking>

**Действия:**
- [ ] Протестировать вход с правильными учетными данными
- [ ] Протестировать вход с неверными учетными данными
- [ ] Протестировать защиту маршрутов (попытка доступа без авторизации)
- [ ] Протестировать проверку ролей (Teacher пытается зайти на админскую страницу)
- [ ] Протестировать выход
- [ ] Протестировать сохранение сессии (refresh страницы)

**Документация:**
- [USER_FLOW.md](../../../user_flows/USER_FLOW.md) - раздел Authentication Flow
- [SECURITY.md](../../../infrastructure/SECURITY.md) - раздел Testing

**Критерии приемки:**
- Все тесты пройдены успешно
- Аутентификация работает корректно
- Защита маршрутов работает
- Проверка ролей функционирует

<output_format>
После выполнения задачи все тесты должны быть пройдены успешно, аутентификация должна работать корректно, защита маршрутов должна работать, и проверка ролей должна функционировать.
</output_format>

---

### Task 08.10: Оптимизация производительности

<context>
<CRITICAL>Это финальная задача фазы!</CRITICAL> Оптимизация производительности критически важна для обеспечения быстрой работы аутентификации. Правильная оптимизация улучшит пользовательский опыт.
</context>

<task>
Оптимизируй производительность аутентификации. Убедись, что проверка сессии не блокирует рендеринг, оптимизируй загрузку конфигурации Amplify, проверь отсутствие ненужных запросов к Cognito и оптимизируй размер bundle.
</task>

<constraints>
- Производительность должна быть оптимизирована
- Не должно быть блокирующих операций
- Bundle size должен быть приемлемым
- Не должно быть ненужных запросов к Cognito
</constraints>

<thinking>
Прежде чем приступить к реализации:
1. Изучи ARCHITECTURE.md раздел Performance для понимания требований
2. Используй Context7 для получения актуальной документации Next.js Performance
3. Определи области для оптимизации
4. Только после этого оптимизируй производительность
</thinking>

**Действия:**
- [ ] Убедиться, что проверка сессии не блокирует рендеринг
- [ ] Оптимизировать загрузку конфигурации Amplify
- [ ] Проверить, что нет ненужных запросов к Cognito
- [ ] Оптимизировать размер bundle для auth компонентов

**Документация:**
- [ARCHITECTURE.md](../../../architecture/ARCHITECTURE.md) - раздел Performance
- Next.js Performance документация (через Context7)

**Критерии приемки:**
- Производительность оптимизирована
- Нет блокирующих операций
- Bundle size приемлемый

<output_format>
После выполнения задачи производительность должна быть оптимизирована, не должно быть блокирующих операций, и bundle size должен быть приемлемым.
</output_format>

---

## Ссылки на документацию проекта

- [SECURITY.md](../../../infrastructure/SECURITY.md) - Безопасность и аутентификация
- [AWS_AMPLIFY.md](../../../infrastructure/AWS_AMPLIFY.md) - Настройка AWS Amplify
- [USER_FLOW.md](../../../user_flows/USER_FLOW.md) - Пользовательские сценарии
- [WIREFRAMES.md](../../../ui_ux/WIREFRAMES.md) - Wireframes страниц

---

## Примечания

- ⚠️ **КРИТИЧНО:** Использовать AWS Amplify Gen 1, НЕ Gen 2!
- Middleware должен работать быстро и не блокировать рендеринг
- Ошибки аутентификации должны быть понятны пользователю
- Сессия должна сохраняться между перезагрузками страницы
- Проверка совместимости Next.js с AWS Amplify критически важна

---

## ⚠️ Важно: Проверка дублирующих ресурсов

**После завершения фазы обязательно выполните проверку на наличие дублирующих AWS ресурсов:**

```bash
# Linux/Mac
./scripts/check-duplicate-resources.sh eu-west-1

# Windows
.\scripts\check-duplicate-resources.ps1 eu-west-1
```

**Почему это важно:**
- Предотвращает создание дублирующих ресурсов (AppSync API, Cognito User Pools, DynamoDB таблицы, CloudFormation стеки)
- Помогает обнаружить проблемы на раннем этапе
- Снижает неожиданные затраты на AWS

**Если обнаружены дублирующие ресурсы:**
- См. [DUPLICATE_RESOURCES_INCIDENT.md](../../../infrastructure/DUPLICATE_RESOURCES_INCIDENT.md) для инструкций по устранению
- Следуйте [BRANCH_SETUP_CHECKLIST.md](../../../infrastructure/BRANCH_SETUP_CHECKLIST.md) при подключении новых веток

---

**Версия:** 1.0  
**Последнее обновление:** 23 декабря 2025

