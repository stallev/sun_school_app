# Phase 25: Тестирование, оптимизация и деплой

## Описание фазы
Ручное тестирование всех функций, оптимизация производительности, исправление багов, деплой на AWS Amplify Hosting, настройка CI/CD, финальная проверка в production.

## Зависимости
Все предыдущие фазы

## Оценка времени
5-7 дней

## Требования к AI Agent

> [!IMPORTANT]
> - AI Agent при создании программного кода должен использовать актуальную документацию через Context7
> - Для AWS Amplify Hosting должна быть использована официальная документация AWS Amplify Gen 1
> - Перед деплоем необходимо проверить совместимость NextJS с AWS Amplify
> - Следовать принципам из `docs/guidelines/prompts/general_prompt_guidelines.md`

## Задачи

### Task 25.01: Ручное тестирование всех user flows
- [ ] Протестировать все user flows из [USER_FLOW.md](../../../user_flows/USER_FLOW.md):
  - Аутентификация (вход, выход)
  - Создание и редактирование уроков (Teacher)
  - Проверка домашних заданий
  - Управление пользователями (Admin)
  - Управление группами и настройками
  - Просмотр рейтинга и статистики
- [ ] Задокументировать найденные баги
- [ ] Исправить критичные баги

**Документация:**
- [USER_FLOW.md](../../../user_flows/USER_FLOW.md) - все разделы
- [MVP_SCOPE.md](../../../MVP_SCOPE.md) - раздел 4 Критерии готовности MVP

**Критерии приемки:**
- Все основные user flows протестированы
- Критичные баги исправлены

---

### Task 25.02: Тестирование на различных устройствах
- [ ] Протестировать на Mobile (375px+)
- [ ] Протестировать на Tablet (768px+)
- [ ] Протестировать на Desktop (1024px+)
- [ ] Проверить адаптивность всех страниц
- [ ] Проверить touch-friendly элементы

**Документация:**
- [MVP_SCOPE.md](../../../MVP_SCOPE.md) - раздел 4.3.1 Адаптивность
- [DESIGN_SYSTEM.md](../../../ui_ux/DESIGN_SYSTEM.md) - раздел Responsive Design

**Критерии приемки:**
- Все страницы адаптивны
- Элементы touch-friendly

---

### Task 25.03: Оптимизация производительности
- [ ] Запустить Lighthouse audit
- [ ] Проверить метрики Core Web Vitals:
  - FCP < 1.5s
  - LCP < 2.5s
  - TTI < 3.5s
  - CLS < 0.1
- [ ] Оптимизировать bundle size
- [ ] Оптимизировать изображения (если есть)
- [ ] Оптимизировать загрузку данных

**Документация:**
- [MVP_SCOPE.md](../../../MVP_SCOPE.md) - раздел 4.2.2 Производительность
- [ARCHITECTURE.md](../../../architecture/ARCHITECTURE.md) - раздел Performance
- Lighthouse документация (через Context7)

**Критерии приемки:**
- Lighthouse scores соответствуют требованиям
- Производительность оптимизирована

---

### Task 25.04: Исправление найденных багов
- [ ] Составить список всех найденных багов
- [ ] Приоритизировать баги (критичные, важные, незначительные)
- [ ] Исправить критичные баги
- [ ] Исправить важные баги
- [ ] Задокументировать известные проблемы (если есть)

**Документация:**
- [MVP_SCOPE.md](../../../MVP_SCOPE.md) - раздел 4.1.1 Основной функционал

**Критерии приемки:**
- Критичные баги исправлены
- Важные баги исправлены

---

### Task 25.05: Настройка деплоя на AWS Amplify Hosting
- [ ] Проверить файл `amplify.yml` (создан в Phase 02)
- [ ] Убедиться, что build settings правильные для Next.js 15.5.9
- [ ] Настроить environment variables в Amplify Console
- [ ] Подключить репозиторий к Amplify Hosting
- [ ] Запустить первый деплой

**Документация:**
- [DEPLOYMENT_GUIDE.md](../../../deployment/DEPLOYMENT_GUIDE.md) - раздел AWS Amplify Hosting
- [AWS_AMPLIFY.md](../../../infrastructure/AWS_AMPLIFY.md) - раздел Hosting
- AWS Amplify Hosting документация (через Context7)

**Критерии приемки:**
- Деплой настроен
- Приложение развернуто на Amplify Hosting

---

### Task 25.06: Настройка CI/CD pipeline
- [ ] Настроить автоматический деплой при push в main ветку
- [ ] Настроить environment variables для production
- [ ] Настроить build settings
- [ ] Протестировать автоматический деплой

**Документация:**
- [DEPLOYMENT_GUIDE.md](../../../deployment/DEPLOYMENT_GUIDE.md) - раздел CI/CD
- [CI_CD.md](../../../infrastructure/CI_CD.md) - если существует
- AWS Amplify CI/CD документация (через Context7)

**Критерии приемки:**
- CI/CD настроен
- Автоматический деплой работает

---

### Task 25.07: Настройка environment variables
- [ ] Настроить environment variables в Amplify Console:
  - AWS регион
  - AppSync endpoint
  - Cognito User Pool ID
  - Cognito Client ID
  - Другие необходимые переменные
- [ ] Убедиться, что переменные доступны в приложении
- [ ] Проверить безопасность переменных

**Документация:**
- [DEPLOYMENT_GUIDE.md](../../../deployment/DEPLOYMENT_GUIDE.md) - раздел Environment Variables
- [AWS_AMPLIFY.md](../../../infrastructure/AWS_AMPLIFY.md) - раздел Configuration

**Критерии приемки:**
- Environment variables настроены
- Переменные доступны в приложении

---

### Task 25.08: Финальная проверка в production
- [ ] Протестировать все функции в production окружении
- [ ] Проверить работу аутентификации
- [ ] Проверить работу всех CRUD операций
- [ ] Проверить производительность в production
- [ ] Проверить отсутствие критических ошибок

**Документация:**
- [MVP_SCOPE.md](../../../MVP_SCOPE.md) - раздел 4.5.2 Тестирование в production

**Критерии приемки:**
- Все функции работают в production
- Нет критических ошибок
- Производительность соответствует требованиям

---

### Task 25.09: Документирование процесса деплоя
- [ ] Обновить [DEPLOYMENT_GUIDE.md](../../../deployment/DEPLOYMENT_GUIDE.md)
- [ ] Задокументировать процесс деплоя
- [ ] Задокументировать настройку CI/CD
- [ ] Задокументировать troubleshooting

**Документация:**
- [DEPLOYMENT_GUIDE.md](../../../deployment/DEPLOYMENT_GUIDE.md)

**Критерии приемки:**
- Документация обновлена
- Процесс деплоя задокументирован

---

### Task 25.10: Финальная проверка критериев готовности MVP
- [ ] Проверить все критерии из [MVP_SCOPE.md](../../../MVP_SCOPE.md) раздел 4:
  - Функциональные критерии
  - Технические критерии
  - UI/UX критерии
  - Документация
  - Deployment
- [ ] Убедиться, что все критерии выполнены
- [ ] Задокументировать статус готовности MVP

**Документация:**
- [MVP_SCOPE.md](../../../MVP_SCOPE.md) - раздел 4 Критерии готовности MVP

**Критерии приемки:**
- Все критерии выполнены
- MVP готов к использованию

---

## Ссылки на документацию проекта

- [DEPLOYMENT_GUIDE.md](../../../deployment/DEPLOYMENT_GUIDE.md) - Руководство по развертыванию
- [MVP_SCOPE.md](../../../MVP_SCOPE.md) - Критерии готовности MVP
- [USER_FLOW.md](../../../user_flows/USER_FLOW.md) - Пользовательские сценарии
- [AWS_AMPLIFY.md](../../../infrastructure/AWS_AMPLIFY.md) - Настройка AWS Amplify

---

## Примечания

- Тестирование должно быть тщательным и покрывать все основные сценарии
- Производительность критически важна для пользовательского опыта
- Деплой должен быть настроен правильно для стабильной работы в production
- Все критерии готовности MVP должны быть выполнены перед релизом

---

**Версия:** 1.0  
**Последнее обновление:** 23 декабря 2025

